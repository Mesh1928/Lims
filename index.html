<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Tanjina üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    overflow: hidden;
    color: #ffe6f0;
    background: linear-gradient(-45deg, #1a001f, #4d0033, #1a001f, #4d0033);
    background-size: 400% 400%;
    animation: gradientShift 20s ease infinite;
}
.container {
    background: rgba(30, 10, 40, 0.85);
    padding: 30px;
    padding-bottom: 50px;
    border-radius: 22px;
    width: 90%;
    max-width: 420px;
    max-height: 80vh;
    box-shadow: 0 0 40px rgba(255, 77, 141, 0.25);
    z-index: 2;
    animation: fadeIn 1.2s ease;
    overflow-y: auto;
    position: relative;
}
.container::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 50px;
    background: linear-gradient(to top, rgba(30,10,40,0.85), rgba(30,10,40,0));
    pointer-events: none;
}
h1 { color: #ff6fae; }
.name {
    font-size: 34px;
    font-weight: bold;
    color: #ff4d8d;
    text-shadow: 0 0 15px #ff4d8d, 0 0 35px #ff1f6a;
    animation: glow 2s infinite alternate;
}
p {
    font-size: 17px;
    line-height: 1.7;
    min-height: 90px;
    color: #ffe6f0;
    white-space: pre-wrap;
}
button {
    border: none;
    padding: 14px 28px;
    font-size: 18px;
    border-radius: 50px;
    cursor: pointer;
    margin: 12px;
    transition: all 0.3s ease;
}
.next-btn, .yes-btn { background: linear-gradient(135deg, #ff4d8d, #ff1f6a); color: white; }
.yes-btn { animation: heartbeat 1.5s infinite; }
.no-btn { background: #3a2a40; color: #ccc; }
.save-btn { background: linear-gradient(135deg, #ffb703, #fb8500); color: white; font-size: 16px; margin-top: 20px; }
.hidden { display: none; }
.vibrate { animation: vibrate 0.15s infinite; }
.pulse-screen { animation: screenPulse 0.6s ease; }
.heart { position: fixed; top: -10px; font-size: 18px; color: #ff4d8d; animation: fall linear infinite; opacity: 0.7; }
.scroll-indicator { position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); font-size: 20px; color: #ffb3c6; animation: bounce 1s infinite; }
#finalLove { font-size: 36px; font-weight: bold; color: #ff4d8d; text-shadow: 0 0 15px #ff4d8d, 0 0 40px #ff1f6a; opacity: 0; animation: pulseFinal 1s infinite alternate; }
#tapScreen { position: fixed; top:0; left:0; width: 100%; height: 100%; background: #1a001f; color: #ffb3c6; display:flex; justify-content:center; align-items:center; font-size: 24px; z-index: 9999; cursor: pointer; }
@keyframes glow { from {text-shadow:0 0 15px #ff4d8d;} to {text-shadow:0 0 40px #ff1f6a;} }
@keyframes heartbeat {0%{transform:scale(1);}14%{transform:scale(1.15);}28%{transform:scale(1);}42%{transform:scale(1.15);}70%{transform:scale(1);}}
@keyframes screenPulse {0%{box-shadow:0 0 0 rgba(255,77,141,0.0);}50%{box-shadow:0 0 80px rgba(255,77,141,0.6);}100%{box-shadow:0 0 0 rgba(255,77,141,0.0);}}
@keyframes vibrate {0%{transform:translate(0);}25%{transform:translate(2px,2px);}50%{transform:translate(-2px,-2px);}75%{transform:translate(2,-2px);}100%{transform:translate(-2,2px);}}
@keyframes fadeIn {from{opacity:0; transform:scale(0.95);} to{opacity:1; transform:scale(1);}}
@keyframes bounce {0%,100%{transform:translateX(-50%) translateY(0);}50%{transform:translateX(-50%) translateY(8px);}}
@keyframes pulseFinal {0%{transform:scale(1);}100%{transform:scale(1.2);}}
@keyframes fall {to{transform:translateY(110vh); opacity:0;}}
@keyframes gradientShift {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
</style>
</head>
<body>

<audio id="bgMusic" src="CinnamonGirl.mp3" loop></audio>
    <source src="assets/CinnamonGirl.mp3" type="audio/mpeg">

<div id="tapScreen">Tap anywhere to start üíñ</div>

<div class="container" id="container">

    <!-- PAGE 1 -->
    <div id="page1">
        <h1>Hey <span class="name">Tanjina</span> üíñ</h1>
        <p id="note1"></p>
        <button class="next-btn" onclick="goToQuestion()">Next üíå</button>
    </div>

    <!-- PAGE 2 -->
    <div id="page2" class="hidden">
        <h1>Will you be my Valentine? üíò</h1>
        <button id="yesBtn" class="yes-btn" onclick="sayYes()">Yes üíñ</button>
        <button class="no-btn" onclick="sayNo()">No üôà</button>
    </div>

    <!-- PAGE 3 -->
    <div id="page3" class="hidden">
        <h1>YAYYY üéâüíñ</h1>
        <p id="note2"></p>
        <button class="save-btn" onclick="saveMoment()">Save This Moment üíæ</button>
        <button class="next-btn" onclick="goToThirdNote()">Next üíå</button>
    </div>

    <!-- PAGE 4 -->
    <div id="page4" class="hidden">
        <p id="note3"></p>
        <div id="finalLove">I ‚ù§Ô∏è YOU</div>
        <button class="next-btn" onclick="endMessage()">Finish üíñ</button>
        <div class="scroll-indicator">&#x25BC;</div>
    </div>

</div>

<script>
/* --- HEART RAIN --- */
function createHeart() {
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.innerText = 'üíñ';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (4 + Math.random() * 3) + 's';
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 7000);
}
setInterval(createHeart, 400);

/* --- TYPING --- */
function typeText(element, text, speed = 35, callback = null) {
    element.innerHTML = "";
    let i = 0;
    const interval = setInterval(() => {
        element.innerHTML += text.charAt(i);
        i++;
        if (i >= text.length) {
            clearInterval(interval);
            if (callback) callback();
        }
    }, speed);
}

/* --- NOTES --- */
const note1Text = `Tanjina, I don't like the fact we are so distant now, after over a year of talking
to each other all the time. Even when we would have fights, we were never this distant.
I would at least see you at work and be around you, but now that is not possible either.
I will address something very important right now. I would keep this a complete secret
but I will just tell you a small part here. I don't know if you remember, but this
one time when we went out I told you I would be giving you something in a week or two weeks
time. But then you fell really sick and we were not able to go out because of how bad your
sickness got. Now to the point why what I told is important: when you just go out
and label what we have as a "situationship," it really pisses me off because it is not.
But then again, we do not have an anniversary, which is why I told you I had to give you 
something, and it was not a letter or anything, but that would resolve this whole situation. 
You know how I like to do things perfectly always, but the timing of everything was 
just unfortunate. And I also believe in nazar, because how was everything perfect between us 
and then it went from 100 to 0 just like that. I am just a little disappointed how in this one
month you never texted me once‚Ä¶ it really made me feel like idek how to put it in words.
Anyways, now to the more important part: I did something small for you, so carry on and see
if you like it.`;

const note2Text = `You felt that heartbeat?
That‚Äôs how fast my heart raced when you said yes.
This moment‚Ä¶ it‚Äôs ours üíñ`;

const note3Text = `If you pressed Yes after pressing No multiple times that is fine by me.... I know this might be childish what I did here but there was nothing I could really do for you with how you have been. I want to do these for you, these cute little things and also a lot of other things for you. Why would I not want to?! I want my baby, my love back. I really really really miss her a lot. I want us to be back to how we were ‚Äî that does not mean you have to speak to me the whole day. I just want us to be back to normal. Tanjina Malik, you are the Love Of My Lifeeeee, my baby, my other half. You are the girl I have fallen in love with so deeply, if I don't do these things for you then who do I even do them for? Not one day or moment passes by I don't think about you. I want a life with you, a future with you, a family with you. I want to spend my whole life with you and do everything with you. I love you a lotttttt babe, I love you, I love you, I loveeeee youuuuuuuuuu and I just loveeeeeeeeeeeeeeeeeeeeeee youuuuuuuuuuuuu. I want to tell this to you, the girl I love so deeply, every single day without any sort of hesitation because I want it to be you. You are absolutely perfect in every single aspect for me and I would not want to have it any other way. I LOVE YOU MY LOVE.`;

typeText(document.getElementById('note1'), note1Text);

/* --- BUTTON LOGIC --- */
let yesSize = 20;

function goToQuestion() {
    document.getElementById('page1').classList.add('hidden');
    document.getElementById('page2').classList.remove('hidden');
}

function sayNo() {
    const yesBtn = document.getElementById('yesBtn');
    yesSize += 6;
    yesBtn.style.fontSize = yesSize + 'px';
    yesBtn.style.padding = (14 + yesSize/4) + 'px ' + (28 + yesSize/3) + 'px';
}

function sayYes() {
    document.getElementById('page2').classList.add('hidden');
    document.getElementById('page3').classList.remove('hidden');

    const container = document.getElementById('container');
    container.classList.add('pulse-screen');
    setTimeout(() => container.classList.remove('pulse-screen'), 600);

    confetti({
        particleCount: 220,
        spread: 120,
        origin: { y: 0.6 },
        shapes: ['heart'],
        colors: ['#ff4d8d', '#ff6fae', '#ff1f6a']
    });

    typeText(document.getElementById('note2'), note2Text);
}

function goToThirdNote() {
    document.getElementById('page3').classList.add('hidden');
    document.getElementById('page4').classList.remove('hidden');

    typeText(document.getElementById('note3'), note3Text, 25, () => {
        // Show final I ‚ù§Ô∏è YOU
        const finalLove = document.getElementById('finalLove');
        finalLove.style.opacity = 1;

        // Burst confetti for final reveal
        confetti({
            particleCount: 250,
            spread: 160,
            origin: { y: 0.4 },
            shapes: ['heart'],
            colors: ['#ff4d8d', '#ff6fae', '#ff1f6a', '#ffe6f0']
        });

        // Increase heart rain frequency briefly
        const heartInterval = setInterval(() => createHeart(), 150);
        setTimeout(() => clearInterval(heartInterval), 4000);
    });
}

function endMessage() {
    alert("üíñ All done! Hope this made you smile! üíñ");
}

/* --- SAVE BUTTON --- */
function saveMoment() {
    const text = `Valentine‚Äôs Night üíñ
Tanjina said YES.
A heartbeat frozen in time.`;
    const blob = new Blob([text], { type: "text/plain" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "Our_Valentine_Night.txt";
    link.click();
}

/* --- TAP TO PLAY MUSIC --- */
document.getElementById('tapScreen').addEventListener('click', () => {
    document.getElementById('bgMusic').play();
    document.getElementById('tapScreen').style.display = 'none';
});
</script>
</body>
</html>
